!function t(n,i,e){function o(a,r){if(!i[a]){if(!n[a]){var d="function"==typeof require&&require;if(!r&&d)return d(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=i[a]={exports:{}};n[a][0].call(u.exports,function(t){var i=n[a][1][t];return o(i?i:t)},u,u.exports,t,n,i,e)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<e.length;a++)o(e[a]);return o}({1:[function(t,n,i){var e=jQuery;n.exports.init=function(){function t(t){for(var n=[],e="",o=0,s=t.length;s>o;o+=1)n.push(["<li>",'<a href="',t[o].url,'" title="',t[o].title,'" target="_blank">','<img src="',t[o].avatar,'" />',"</a>","</li>"].join("")),e+='<a title="'+t[o].title+'" data-slide-index="'+o+'" href="javascript:;"></a>';i.append('<ul class="bxslider"></ul>').end().find(".bxslider").append(n.join("")),i.after('<div id="bxslider-num" class="bxslider-num"></div>').end().find(".bxslider-num").html(e)}var n=e(".carousel").eq(0),i=n.find(".stages");e.getJSON("/fapi/pics/get",function(n){if(0===n.code){i.find("> img").remove(),t(n.data);var o,s=e(".bxslider").bxSlider({auto:!0,autoControls:!1,autoHover:!0,controls:!1,pagerCustom:"#bxslider-num"});e("#bxslider-num a").click(function(){clearTimeout(o),o=setTimeout(function(){s.startAuto()},3e3)})}})}},{}],2:[function(t,n,i){function e(t){function n(t){""===t?d.addClass("hide"):d.removeClass("hide").html(t)}function i(){var t=a.trim(o.val()),i=a.trim(s.val());return""===t?(n("请输入邮箱/手机号"),!1):""===i?(n("请输入密码"),!1):(l.need(t)&&!l.existed()&&l.draw(t),l.existed()&&""===a.trim(l.val())?(n("请输入验证码"),!1):(n(""),!0))}var e=a("#loginform"),o=e.find('[name="userid"]'),s=e.find('[name="password"]'),r=e.find('[name="rpwd"]'),d=e.find(".txt-alert"),u=e.find('[btn-action="submit"]'),l=(a(".pp-other-list"),a(".dropdown"),function(){var n,i,e,o=['<div class="control-group code">','    <span class="pull-right"><a href="javascript:;" btn-action="captcha" class="auth" title="点击刷新验证码"></a></span>','    <label><span class="ipt"><input name="captcha" type="text" placeholder="请输入验证码" tabindex="3" autocomplete="off"></span></label>',"</div>"].join(""),r={};return{need:function(t){return r[t]},draw:function(i){e=i,r[i]=!0,n||this._init(),t.hide(),this.refresh()},_init:function(){var t=this;n=a(o),n.insertAfter(s.closest(".control-group")),n.on("click",'[btn-action="captcha"]',function(n){n.preventDefault(),t.refresh()}),i=n.find('input[name="captcha"]')},refresh:function(){if(n){var t="/apiv2/picture_captcha?userid="+e+"&time="+Math.random();n.find('a[btn-action="captcha"]').html('<img src="'+t+'">'),i.val("")}},val:function(){return i&&i.val()},destroy:function(){n&&(n.remove(),n=null,i=null,e="")},existed:function(){return n}}}()),c=SohuPassport.handler({userid:o,password:s,pc:r,autocomplete:!1,onlogin:function(){var t=c.passport().location();location.href=t.url+"/mypassport/index"},onerror:function(t){var i=t.msg;switch(t.code){case 101:break;case 3:break;case 102:case 4:s.val("");break;case 6:l.draw(a.trim(o.val())),i="";break;case 7:l.refresh()}o.prop("disabled",!1),n(i)}});return e.on("focus","input[name]",function(){n("")}).on("keyup",'[name="password"],[name="captcha"]',function(t){13===t.keyCode&&""!==s.val()&&e.submit()}).submit(function(){var t={};return i()&&(l.existed()&&(t.captcha=l.val()),o.prop("disabled",!0),c.login(t)),!1}),u.on("click",function(t){t.preventDefault(),e.submit()}),o.on("blur",function(){var n=a.trim(this.value);l.need(n)?l.draw(n):l.existed()&&(l.destroy(),t.adjust())}),e.find("i.img-delete").parent().click(function(){o.prop("disabled")||o.val("").focus()}),{hide:function(){e.addClass("hide")},show:function(){e.removeClass("hide"),n("")},captchaControlGroup:l}}function o(t){function n(t){""===t?c.addClass("hide"):c.removeClass("hide").html(t)}function i(){var t=a.trim(o.val()),i=a.trim(s.val());return""===t?(n("请输入手机号码"),!1):f.test(t)?""===i?(n("请输入动态码"),!1):(n(""),!0):(n("手机号码格式不正确"),!1)}var e=a("#dynamicform"),o=e.find('[name="mobile"]'),s=e.find('[name="captcha"]'),u=e.find('[btn-action="captcha"]'),l=e.find('[name="rpwd"]'),c=e.find(".txt-alert"),p=e.find('[btn-action="submit"]'),f=/^1[0-9]{10}$/,h=SohuPassport({appid:d});h.on("login",function(){var t=h.location();location.href=t.url+"/mypassport/index"}).on("error",function(t){var i=t.msg;o.prop("disabled",!1),n(i)});var m=new r({url:"/apiv2/mlogin/send_captcha",time:60,onstart:function(t){u.addClass("disabled").html(t+"s"),o.prop("disabled",!0)},onprogress:function(t){u.html(t+"s")},onend:function(t){u.removeClass("disabled").html("点击获取"),o.prop("disabled",!1),n(t&&0!==t.code?t.msg:"")}});return e.on("focus","input[name]",function(){n("")}).submit(function(){return i()&&(o.prop("disabled",!0),h.loginByDynamicCode({mobile:a.trim(o.val()),captcha:a.trim(s.val()),pc:l.prop("checked")})),!1}),u.on("click",function(t){if(t.preventDefault(),!u.hasClass("disabled")){var i=a.trim(o.val());""===i?n("请输入手机号码"):f.test(i)?m.request({mobile:i,appid:d}):n("手机号码格式不正确")}}),p.on("click",function(t){t.preventDefault(),e.submit()}),e.find("i.img-delete").parent().click(function(){o.prop("disabled")||o.val("").focus()}),{hide:function(){e.addClass("hide")},show:function(){e.removeClass("hide"),n("")}}}function s(){var t=a(".pp-other-list"),n=a(".dropdown");return{status:function(){return t.hasClass("hide")&&t.hasClass("sw-hide")?"oneLine":t.hasClass("hide")&&!t.hasClass("sw-hide")?"all":void 0},adjust:function(){var t=this.status();t&&this[t]()},oneLine:function(){t.addClass("sw-hide").removeClass("hide"),n.removeClass("hide")},all:function(){t.removeClass("sw-hide hide"),n.addClass("hide")},hide:function(){t.addClass("hide"),n.removeClass("hide")}}}var a=jQuery,r=t("./requestwithdelay"),d=9998;n.exports.init=function(){var t=s(),n=e(t),i=o(t);a("input").placeholder(),a("div.nav-tabs a").click(function(){var e=a(this),o=e.index();e.addClass("active").siblings().removeClass("active"),0===o?(n.show(),i.hide(),n.captchaControlGroup.existed()&&t.hide()):1===o&&(n.hide(),i.show(),t.adjust())}),a(".dropdown").find("a").click(function(i){i.preventDefault(),n.captchaControlGroup.existed()&&n.captchaControlGroup.destroy(),t.all()})}},{"./requestwithdelay":3}],3:[function(t,n,i){function e(t){this.options=o.extend({url:"",method:"post",onstart:null,onresponse:null,onprogress:null,onend:null,time:60},t||{}),this.sid=null,this.isCounting=!1}var o=jQuery;e.prototype={request:function(t){if(!this.isCounting){var n=this;this.start(this.options.time),""!==this.options.url&&o.ajax({url:this.options.url,type:this.options.method,dataType:"json",data:t||{}}).done(function(t){0!==t.code?n.end(t):n.response(t)})}},countdown:function(){var t,n=this,i=this.options.time,e=+new Date+1e3*i;this.sid=setInterval(function(){t=+new Date,i=Math.floor((e-t)/1e3),0>=i?n.end():n.progress(i)},500)},start:function(t){this.isCounting=!0,o.isFunction(this.options.onstart)&&this.options.onstart(t),this.countdown()},progress:function(t){o.isFunction(this.options.onprogress)&&this.options.onprogress(t)},end:function(t){this.isCounting=!1,this.sid&&clearInterval(this.sid),o.isFunction(this.options.onend)&&this.options.onend(t)},response:function(t){o.isFunction(this.options.onresponse)&&this.options.onresponse(t)}},e.prototype.constructor=e,n.exports=e},{}],4:[function(t,n,i){var e=jQuery,o=t("../module/login3"),s=t("../module/carousel2");e(function(){o.init(),s.init()})},{"../module/carousel2":1,"../module/login3":2}]},{},[4]);